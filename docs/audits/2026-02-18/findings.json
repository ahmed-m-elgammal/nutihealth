[
  {
    "id": "VOBE-P0-001",
    "severity": "P0",
    "title": "Missing CI/CD and IaC artifacts",
    "description": "Repository does not contain workflow pipelines, deployment definitions, or infrastructure-as-code files required for controlled release management and reproducibility.",
    "repo": "nutihealth",
    "path": "/",
    "line_range": "n/a",
    "evidence": "File scan did not find .github/workflows, Dockerfile, Terraform, CloudFormation, ARM/Bicep, or Ansible manifests.",
    "suggested_fix": "Create baseline CI pipeline (lint/test/scan), release pipeline with immutable artifacts, and IaC modules for all runtime environments.",
    "estimated_effort": "L",
    "status": "open"
  },
  {
    "id": "VOBE-P1-002",
    "severity": "P1",
    "title": "Frontend tests fail at framework initialization",
    "description": "All frontend test suites currently fail before executing tests due to jest-expo setup/runtime mismatch.",
    "repo": "nutihealth",
    "path": "jest.setup.js",
    "line_range": "1-24",
    "evidence": "Jest output: TypeError Object.defineProperty called on non-object from jest-expo preset setup.",
    "suggested_fix": "Align jest-expo/react-native versions and simplify setup mocks to a compatible preset baseline.",
    "estimated_effort": "M",
    "status": "open"
  },
  {
    "id": "VOBE-P1-003",
    "severity": "P1",
    "title": "Lint gate debt blocks quality enforcement",
    "description": "Lint execution reports thousands of issues, indicating no maintainable quality baseline and high regression risk.",
    "repo": "nutihealth",
    "path": "/",
    "line_range": "n/a",
    "evidence": "npm run lint => 2306 problems (2165 errors, 141 warnings).",
    "suggested_fix": "Adopt staged lint cleanup by directory with incremental fail-on-new-errors policy.",
    "estimated_effort": "L",
    "status": "open"
  },
  {
    "id": "VOBE-P1-004",
    "severity": "P1",
    "title": "Root .env is tracked in git",
    "description": "Environment file is versioned. Even if currently non-secret, this creates direct risk of accidental secret commits.",
    "repo": "nutihealth",
    "path": ".env",
    "line_range": "1-8",
    "evidence": "git ls-files includes .env",
    "suggested_fix": "Remove .env from git index, enforce .env.example template, add secret scanning pre-commit/CI.",
    "estimated_effort": "S",
    "status": "open"
  },
  {
    "id": "VOBE-P1-005",
    "severity": "P1",
    "title": "Recipe import endpoint lacks SSRF egress hardening",
    "description": "Input URL validation checks protocol and syntax but does not prevent requests to private/internal networks after DNS resolution.",
    "repo": "nutihealth",
    "path": "backend/routes/recipeImport.js",
    "line_range": "7-44",
    "evidence": "normalizeRecipeUrl allows any http/https hostname and request is passed to parseRecipeFromUrl directly.",
    "suggested_fix": "Resolve hostname and block RFC1918/link-local/metadata ranges; optionally allowlist trusted recipe domains.",
    "estimated_effort": "M",
    "status": "open"
  },
  {
    "id": "VOBE-P2-006",
    "severity": "P2",
    "title": "Authentication flow intentionally disabled",
    "description": "Auth service returns OFFLINE_MODE for login/signup/refresh, leaving no production authentication path in current code.",
    "repo": "nutihealth",
    "path": "src/services/api/auth.ts",
    "line_range": "84-91,123-130,176-183",
    "evidence": "Service methods return success:false with OFFLINE_MODE errors.",
    "suggested_fix": "Implement backend auth integration and enforce RBAC authorization at API boundaries.",
    "estimated_effort": "L",
    "status": "open"
  },
  {
    "id": "VOBE-P2-007",
    "severity": "P2",
    "title": "Backend has no automated tests",
    "description": "Backend test script is a placeholder and does not execute assertions.",
    "repo": "nutihealth",
    "path": "backend/package.json",
    "line_range": "6-10",
    "evidence": "npm test outputs 'No backend tests configured'.",
    "suggested_fix": "Add supertest-based API test suite and run in CI for every PR.",
    "estimated_effort": "M",
    "status": "open"
  },
  {
    "id": "VOBE-P2-008",
    "severity": "P2",
    "title": "Cyclomatic complexity hotspots exceed maintainability threshold",
    "description": "Several high-impact modules exceed complexity thresholds, increasing defect probability and reducing reviewability.",
    "repo": "nutihealth",
    "path": "src/services/api/weeklyGoals.ts",
    "line_range": "267",
    "evidence": "Complexity scan reports function complexity 32 (max configured 12).",
    "suggested_fix": "Refactor into smaller pure functions and separate data validation from orchestration.",
    "estimated_effort": "M",
    "status": "open"
  },
  {
    "id": "VOBE-P2-009",
    "severity": "P2",
    "title": "No backend metrics/SLO instrumentation",
    "description": "Service lacks operational telemetry endpoints and standardized request-level metrics.",
    "repo": "nutihealth",
    "path": "backend/server.js",
    "line_range": "1-308",
    "evidence": "No metrics middleware/exporter or SLO-related instrumentation found.",
    "suggested_fix": "Add request metrics middleware, /metrics endpoint, and alerting thresholds in monitoring stack.",
    "estimated_effort": "M",
    "status": "open"
  },
  {
    "id": "VOBE-P3-010",
    "severity": "P3",
    "title": "Dependency freshness debt",
    "description": "Multiple core dependencies lag latest major versions, increasing maintenance and potential vulnerability exposure risk over time.",
    "repo": "nutihealth",
    "path": "package.json",
    "line_range": "1-108",
    "evidence": "npm outdated --json shows multiple major deltas (React Native, Expo-related, lint tooling).",
    "suggested_fix": "Plan batched upgrades with compatibility matrix and canary release verification.",
    "estimated_effort": "M",
    "status": "open"
  }
]
